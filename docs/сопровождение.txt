1. описываю допустимый синтаксис.

2. зафиксировал, теперь интересно применить его для калькулятора.
    .попробовать как оно будет.
=>
    .что-то не очень проходит идея с графом сценария.
    .она кажеться излишней, при этом не понятно, как выполнять проверку.
        .т.е. для просто шагов - там данные вбиваються.
        .а вот для динамически генерируемых - это вопрос...